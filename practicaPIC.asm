
DATO EQU 0X21

INICIO 
        ORG     0X00
        GOTO    START
START   
        BSF     STATUS, 5
        CLRF    TRISB

        BSF     TRISD, 7
        BSF     TRISD, 6
        BSF     TRISD, 5
        BSF     TRISD, 4
        BSF     TRISD, 2
        BSF     TRISD, 3

	BCF	STATUS, RP0 
        MOVLW   0X00
        MOVWF   PORTB


DECODIFICADOR
        BTFSC   PORTD, 7
        GOTO    OCHOYNUEVE
	BTFSC	PORTD, 6
	GOTO	CUATROASIETE
	GOTO	CEROATRES
	GOTO	DECODIFICADOR

CEROATRES
	BTFSC	PORTD, 5
	GOTO	DOSYTRES
	GOTO	CEROYUNO
	GOTO	DECODIFICADOR
CEROYUNO
	BTFSC	PORTD, 	4
	GOTO	UNO
	MOVLW	B'00111111'
	MOVWF	DATO
	CALL	MV
	GOTO	DECODIFICADOR

UNO
	MOVLW	B'00000110'
	MOVWF	DATO
	CALL	MV
	GOTO	DECODIFICADOR
DOSYTRES
	BTFSC	PORTD, 	4
	GOTO	TRES
	MOVLW	B'01011011'
	MOVWF	DATO
	CALL	MV
	GOTO	DECODIFICADOR
TRES	
	MOVLW	B'01001111'
	MOVWF	DATO
	CALL	MV
	GOTO    DECODIFICADOR
MV	
	MOVF	DATO, W  ; A DONDE, DESDE DONDE
	MOVWF	PORTB	
	RETURN

CUATROASIETE	
	BTFSC	PORTD, 5
	GOTO	SEISYSIETE
	GOTO	CINCOYCUATRO
	GOTO	DECODIFICADOR
CINCOYCUATRO
	BTFSC	PORTD, 4
	GOTO	CINCO
        MOVLW	B'01100110';SEIS
	MOVWF	DATO
	CALL	MV
	GOTO	DECODIFICADOR
CINCO
        MOVLW	B'01101101'
	MOVWF	DATO
	CALL	MV
	GOTO	DECODIFICADOR
	
SEISYSIETE	
	BTFSC	PORTD, 4
	GOTO	SIETE
        MOVLW	B'01111101';SEIS
	MOVWF	DATO
	CALL	MV
	GOTO	DECODIFICADOR
SIETE
        MOVLW	B'00000111'
	MOVWF	DATO
	CALL	MV
	GOTO	DECODIFICADOR

OCHOYNUEVE
        BTFSS   PORTD, 4
        GOTO    OCHO
        MOVLW	B'01101111';NUEVE
	MOVWF	DATO
	CALL	MV
	GOTO	DECODIFICADOR
OCHO
	MOVLW	B'01111111'
	MOVWF	DATO
	CALL	MV
	GOTO    DECODIFICADOR