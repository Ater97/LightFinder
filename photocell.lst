---------------------------------------------
PIC ASSEMBLER LISTING
Line    Address Opcode  Instruction
---------------------------------------------
0001    0000            ;configuracion 
0002    0000            ;status 
0003    0000            	DATO 	EQU 0X21
0004    0000                varA    EQU 0x41
0005    0000                varB    EQU 0x42
0006    0000                varC    EQU 0x43
0007    0000                VARDISPLAY    EQU 0x44
0008    0000                cont    EQU 0x45 
0009    0000                ADC     EQU 0x46
0010    0000                CON     EQU 0X47
0011    0000                CON2    EQU 0X48
0012    0000                CON3    EQU 0X49
0013    0000            	GROUPNUMBER	EQU 0x50
0014    0000            
0015    0000            
0016    0000            INICIO
0017    0000            	ORG 0x00 ;se elige en que posicion de memoria empezaremos 
0018    0000    2801    	GOTO START
0019    0001            START
0020    0001    1283    	bcf STATUS,RP0 ;Ir banco 0
0021    0002    1303    	bcf STATUS,RP1
0022    0003    3041    	movlw b'01000001' ;A/D conversion Fosc/8
0023    0004    009F    	movwf ADCON0
0024    0005            	;     	     7     6     5    4    3    2       1 0
0025    0005            	; 1Fh ADCON0 ADCS1 ADCS0 CHS2 CHS1 CHS0 GO/DONE � ADON
0026    0005    1683    	bsf STATUS,RP0 ;Ir banco 1
0027    0006    1303    	bcf STATUS,RP1
0028    0007    3007    	movlw b'00000111'
0029    0008    0081    	movwf OPTION_REG ;TMR0 preescaler, 1:156
0030    0009            	;                7    6      5    4    3   2   1   0 
0031    0009            	; 81h OPTION_REG RBPU INTEDG T0CS T0SE PSA PS2 PS1 PS0
0032    0009    300E    	movlw b'00001110' ;A/D Port AN0/RA0
0033    000A    009F    	movwf ADCON1
0034    000B            	;            7    6     5 4 3     2     1     0 
0035    000B            	; 9Fh ADCON1 ADFM ADCS2 � � PCFG3 PCFG2 PCFG1 PCFG0
0036    000B    1405    	bsf TRISA,0 ;RA0 linea de entrada para el ADC
0037    000C    0186    	clrf TRISB
0038    000D    1283    	bcf STATUS,RP0 ;Ir banco 0
0039    000E    1303    	bcf STATUS,RP1
0040    000F    0186    	clrf PORTB ;Limpiar PORTB
0041    0010                ;----------------------------------------------------------------------------
0042    0010    1683        BSF	STATUS,	5	; BIT SET FILE coloca el registro 5 del banco status en 1
0043    0011    0186    	CLRF	TRISB
0044    0012    3001    	MOVLW	B'00000001'	
0045    0013    0087    	MOVWF	TRISC
0046    0014    1283    	BCF	STATUS,	5	;Limpiamos el B CON BCF. TRIS ES PARA DIRECCIONES
0047    0015    3000    	MOVLW	0X00
0048    0016    0086    	MOVWF	PORTB	; L a W, y de W a F 
0049    0017    1283    	BCF	STATUS,	RP0	
0050    0018    3001    	MOVLW	0X01
0051    0019    0086    	MOVWF	PORTB	; L a W, y de W a F
0052    001A            	
0053    001A    3004    	MOVLW	B'00000100'
0054    001B    00C1    	MOVWF	varA
0055    001C    3008    	MOVLW	B'00001000'
0056    001D    00C2    	MOVWF	varB
0057    001E    3005    	MOVLW	B'00000101'
0058    001F    00C3    	MOVWF	varC
0059    0020    3000    	MOVLW	B'00000000'
0060    0021    00C4    	MOVWF	VARDISPLAY
0061    0022    3000    	MOVLW	B'00000000'
0062    0023    00C5    	MOVWF	cont
0063    0024            ;------------------------------------------------------------------------------
0064    0024            ;------------------------------------------------------------------------------
0065    0024            MENU 
0066    0024            	;MAYBE ADD A DELAY HERE :)
0067    0024    1807    	BTFSC	PORTC,0	;PRESS THE BUTTON
0068    0025    2027    	call	INC
0069    0026    282E    	GOTO	SwitchCont
0070    0027            INC:
0071    0027    0AC5    	INCF	cont,1
0072    0028    1945    	BTFSC	cont,2
0073    0029    202B    	call	ResetCont
0074    002A    0008    	RETURN
0075    002B            ResetCont:
0076    002B    3000    	MOVLW	B'00000000'
0077    002C    00C5    	MOVWF	cont
0078    002D    0008    	RETURN
0079    002E            SwitchCont:
0080    002E    1845    	BTFSC	cont,0
0081    002F    2834    	GOTO	CI	
0082    0030    2831    	GOTO	CP	
0083    0031            CP:
0084    0031    18C5    	BTFSC	cont,1
0085    0032    283D    	GOTO	CASE3	;10
0086    0033    2837    	GOTO	CASE1	;00
0087    0034            CI:
0088    0034    18C5    	BTFSC	cont,1
0089    0035    2840    	GOTO	CASE4	;11
0090    0036    283A    	GOTO	CASE2	;01
0091    0037            CASE1:
0092    0037    0841    	MOVFW	varA
0093    0038    00C4    	MOVWF	VARDISPLAY
0094    0039    2843    	GOTO	DECODIFICADOR
0095    003A            CASE2:
0096    003A    0842    	MOVFW	varB
0097    003B    00C4    	MOVWF	VARDISPLAY
0098    003C    2843    	GOTO	DECODIFICADOR
0099    003D            CASE3:
0100    003D    0843    	MOVFW	varC
0101    003E    00C4    	MOVWF	VARDISPLAY
0102    003F    2843    	GOTO	DECODIFICADOR
0103    0040            CASE4:
0104    0040    3050    	MOVLW	GROUPNUMBER
0105    0041    00C4    	MOVWF	VARDISPLAY
0106    0042    2843    	GOTO	DECODIFICADOR
0107    0043            ;---------------------------------------------------------------------
0108    0043            					;DISPLAY ON PORT B WHATS IN VARDISPLAY
0109    0043            DECODIFICADOR:
0110    0043    1BC4        BTFSC   VARDISPLAY, 7
0111    0044    287B        GOTO    OCHOYNUEVE
0112    0045    1B44    	BTFSC	VARDISPLAY, 6
0113    0046    2863    	GOTO	CUATROASIETE
0114    0047    284B    	GOTO	CEROATRES
0115    0048            
0116    0048            MV:	
0117    0048    0821    	MOVF	DATO, W  
0118    0049    0086    	MOVWF	PORTB	
0119    004A    0008    	RETURN
0120    004B            
0121    004B            CEROATRES:
0122    004B    1AC4    	BTFSC	VARDISPLAY, 5
0123    004C    2859    	GOTO	DOSYTRES
0124    004D    284F    	GOTO	CEROYUNO
0125    004E    2824    	GOTO	MENU
0126    004F            CEROYUNO:
0127    004F    1A44    	BTFSC	VARDISPLAY, 4
0128    0050    2855    	GOTO	UNO
0129    0051    305F    	MOVLW	B'01011111' ;ZERO
0130    0052    00A1    	MOVWF	DATO
0131    0053    2048    	call	MV
0132    0054    2824    	GOTO	MENU
0133    0055            UNO:
0134    0055    3006    	MOVLW	B'00000110'
0135    0056    00A1    	MOVWF	DATO
0136    0057    2048    	call	MV
0137    0058    2824    	GOTO	MENU
0138    0059            DOSYTRES:
0139    0059    1A44    	BTFSC	VARDISPLAY, 4
0140    005A    285F    	GOTO	TRES
0141    005B    303B    	MOVLW	B'00111011';TWO
0142    005C    00A1    	MOVWF	DATO
0143    005D    2048    	call	MV
0144    005E    2824    	GOTO	MENU
0145    005F            TRES:	
0146    005F    302F    	MOVLW	B'00101111'
0147    0060    00A1    	MOVWF	DATO
0148    0061    2048    	call	MV
0149    0062    2824    	GOTO	MENU
0150    0063            
0151    0063            CUATROASIETE:	
0152    0063    1AC4    	BTFSC	VARDISPLAY, 5
0153    0064    2871    	GOTO	SEISYSIETE
0154    0065    2867    	GOTO	CINCOYCUATRO
0155    0066    2824    	GOTO	MENU
0156    0067            CINCOYCUATRO:
0157    0067    1A44    	BTFSC	VARDISPLAY, 4
0158    0068    286D    	GOTO	CINCO
0159    0069    3066            MOVLW	B'01100110';SEIS
0160    006A    00A1    	MOVWF	DATO
0161    006B    2048    	call	MV
0162    006C    2824    	GOTO	MENU
0163    006D            CINCO:
0164    006D    306D            MOVLW	B'01101101'
0165    006E    00A1    	MOVWF	DATO
0166    006F    2048    	call	MV
0167    0070    2824    	GOTO	MENU
0168    0071            	
0169    0071            SEISYSIETE:	
0170    0071    1A44    	BTFSC	VARDISPLAY, 4
0171    0072    2877    	GOTO	SIETE
0172    0073    307D            MOVLW	B'01111101';SEIS
0173    0074    00A1    	MOVWF	DATO
0174    0075    2048    	call	MV
0175    0076    2824    	GOTO	MENU
0176    0077            SIETE:
0177    0077    3007            MOVLW	B'00000111'
0178    0078    00A1    	MOVWF	DATO
0179    0079    2048    	call	MV
0180    007A    2824    	GOTO	MENU
0181    007B            
0182    007B            OCHOYNUEVE:
0183    007B    1E44            BTFSS   VARDISPLAY, 4
0184    007C    2881            GOTO    OCHO
0185    007D    306F            MOVLW	B'01101111';NUEVE
0186    007E    00A1    	MOVWF	DATO
0187    007F    2048    	call	MV
0188    0080    2824    	GOTO	MENU
0189    0081            OCHO:
0190    0081    307F    	MOVLW	B'01111111'
0191    0082    00A1    	MOVWF	DATO
0192    0083    2048    	call	MV
0193    0084    2824    	GOTO	MENU
---------------------------------------------
Number of errors = 0
