---------------------------------------------
PIC ASSEMBLER LISTING
Line    Address Opcode  Instruction
---------------------------------------------
0001    0000            ;configuracion 
0002    0000            ;status 
0003    0000                varA    EQU 0x40
0004    0000                varB    EQU 0x41
0005    0000                varC    EQU 0x42
0006    0000                varE    EQU 0x43
0007    0000                cont    EQU 0x44 
0008    0000                ADC     EQU 0x45
0009    0000                CON     EQU 0X46
0010    0000                CON2    EQU 0X47
0011    0000                CON3    EQU 0X48
0012    0000                p1	    EQU 0X49
0013    0000            	ORG 0x00 ;se elige en que posicion de memoria empezaremos 
0014    0000    2801    	GOTO START
0015    0001            ;CODE
0016    0001            START
0017    0001    1283    	bcf STATUS,RP0 ;Ir banco 0
0018    0002    1303    	bcf STATUS,RP1
0019    0003    3041    	movlw b'01000001' ;A/D conversion Fosc/8
0020    0004    009F    	movwf ADCON0
0021    0005            	;     	     7     6     5    4    3    2       1 0
0022    0005            	; 1Fh ADCON0 ADCS1 ADCS0 CHS2 CHS1 CHS0 GO/DONE � ADON
0023    0005    1683    	bsf STATUS,RP0 ;Ir banco 1
0024    0006    1303    	bcf STATUS,RP1
0025    0007    3007    	movlw b'00000111'
0026    0008    0081    	movwf OPTION_REG ;TMR0 preescaler, 1:156
0027    0009            	;                7    6      5    4    3   2   1   0 
0028    0009            	; 81h OPTION_REG RBPU INTEDG T0CS T0SE PSA PS2 PS1 PS0
0029    0009    300E    	movlw b'00001110' ;A/D Port AN0/RA0
0030    000A    009F    	movwf ADCON1
0031    000B            	;            7    6     5 4 3     2     1     0 
0032    000B            	; 9Fh ADCON1 ADFM ADCS2 � � PCFG3 PCFG2 PCFG1 PCFG0
0033    000B    1405    	bsf TRISA,0 ;RA0 linea de entrada para el ADC
0034    000C    0186    	clrf TRISB
0035    000D    1283    	bcf STATUS,RP0 ;Ir banco 0
0036    000E    1303    	bcf STATUS,RP1
0037    000F    0186    	clrf PORTB ;Limpiar PORTB
0038    0010                ;---------------------------------------------------
0039    0010    1683        BSF	STATUS,	5	; BIT SET FILE coloca el registro 5 del banco status en 1
0040    0011    0186    	CLRF	TRISB
0041    0012    3001    	MOVLW	B'00000001'	;Set 1 en los ultimos 4 bits de c
0042    0013    0087    	MOVWF	TRISC
0043    0014    1283    	BCF	STATUS,	5	;Limpiamos el B CON BCF. TRIS ES PARA DIRECCIONES
0044    0015    3000    	MOVLW	0X00
0045    0016    0086    	MOVWF	PORTB	;Movemos de L a W, y de W a F (puerto B)
0046    0017    1283    	BCF	STATUS,	RP0	;Limpiamos el C CON BCF. TRIS ES PARA DIRECCIONES
0047    0018    3001    	MOVLW	0X01
0048    0019    0086    	MOVWF	PORTB	;Movemos de L a W, y de W a F
0049    001A            	;ASIGNAR VALORES A LAS VARIABLES
0050    001A    3004    	MOVLW	B'00000100'
0051    001B    00C0    	MOVWF	varA
0052    001C    3008    	MOVLW	B'00001000'
0053    001D    00C1    	MOVWF	varB
0054    001E    3005    	MOVLW	B'00000101'
0055    001F    00C2    	MOVWF	varC
0056    0020    3000    	MOVLW	B'00000000'
0057    0021    00C3    	MOVWF	varE
0058    0022    3000    	MOVLW	B'00000000'
0059    0023    00C4    	MOVWF	cont
0060    0024            
0061    0024            
0062    0024            INIT
0063    0024            MENU ;Verificar si presion� el bot�n, a�adir uno al contador.
0064    0024    1807    	BTFSC	PORTC,0	
0065    0025    2027    	CALL	Incrementar
0066    0026            	;Segun el valor de contador, asignar el valor de varE e imprimir
0067    0026    282E    	GOTO	SwitchCont
0068    0027            Incrementar ;CONT++, SI ES MAYOR A 3 SE RESETEA. =========================	
0069    0027    0AC4    	INCF	cont,1
0070    0028    1944    	BTFSC	cont,2
0071    0029    202B    	CALL	ResetCont
0072    002A    0008    	RETURN
0073    002B            ResetCont
0074    002B    3000    	MOVLW	B'00000000'
0075    002C    00C4    	MOVWF	cont
0076    002D    0008    	RETURN
0077    002E            SwitchCont	;Switch con el contador. casos 0,1,2,3 ========================
0078    002E    1844    	BTFSC	cont,0
0079    002F    2834    	GOTO	CI	;Caso Impar
0080    0030    2831    	GOTO	CP	;Caso Par
0081    0031            CP:
0082    0031    18C4    	BTFSC	cont,1
0083    0032    283D    	GOTO	case2	;10
0084    0033    2837    	GOTO	case0	;00
0085    0034            CI:
0086    0034    18C4    	BTFSC	cont,1
0087    0035    2840    	GOTO	case3	;11
0088    0036    283A    	GOTO	case1	;01
0089    0037            case0:
0090    0037    0840    	MOVFW	varA
0091    0038    00C3    	MOVWF	varE
0092    0039    2843    	GOTO	Imprimir
0093    003A            case1:
0094    003A    0841    	MOVFW	varB
0095    003B    00C3    	MOVWF	varE
0096    003C    2843    	GOTO	Imprimir
0097    003D            case2:
0098    003D    0842    	MOVFW	varC
0099    003E    00C3    	MOVWF	varE
0100    003F    2843    	GOTO	Imprimir
0101    0040            case3:
0102    0040    3002    	MOVLW	B'00000010'
0103    0041    00C3    	MOVWF	varE
0104    0042    2843    	GOTO	Imprimir
0105    0043            
0106    0043            Imprimir;MUESTRA EN UN DISPLAY EL VALOR DE varE =========================
0107    0043            	;primer bit de entrada de varE
0108    0043    1843    	BTFSC	varE,0
0109    0044    2852    	GOTO	IMPAR;1,3,5,7,9
0110    0045    2846    	GOTO	PAR ;0,2,4,6,8
0111    0046            PAR ;0,2,4,6,8
0112    0046            	;Segundo bit de entrada de varE
0113    0046    18C3    	BTFSC	varE,1
0114    0047    284F    	GOTO	PAR4 ;2,6
0115    0048    2849    	GOTO	PAR2 ;0,4,8
0116    0049            	
0117    0049            PAR2 ;0,4,8
0118    0049            	;tercer bit de entrada de C
0119    0049    1943    	BTFSC	varE,2
0120    004A    286A    	GOTO	CUATRO
0121    004B    284C    	GOTO	PAR3 ;0,8
0122    004C            	
0123    004C            PAR3 ;0,8
0124    004C            	;cuarto bit de entrada de C
0125    004C    19C3    	BTFSC	varE,3
0126    004D    2876    	GOTO	OCHO
0127    004E    285E    	GOTO	CERO
0128    004F            PAR4 ;2,6
0129    004F            	;tercer bit de entrada de C
0130    004F    1943    	BTFSC	varE,2
0131    0050    2870    	GOTO	SEIS
0132    0051    2864    	GOTO	DOS
0133    0052            IMPAR ;1,3,5,7,9
0134    0052            	;Segundo bit de entrada de C
0135    0052    18C3    	BTFSC	varE,1
0136    0053    285B    	GOTO	IMPAR4 ;3,7
0137    0054    2855    	GOTO	IMPAR2 ;1,5,9
0138    0055            IMPAR2 ;1,5,9
0139    0055            	;tercer bit de entrada de C
0140    0055    1943    	BTFSC	varE,2
0141    0056    286D    	GOTO	CINCO
0142    0057    2858    	GOTO	IMPAR3 ;1,9
0143    0058            IMPAR3 ;1,9
0144    0058            	;cuarto bit de entrada de C
0145    0058    19C3    	BTFSC	varE,3
0146    0059    2879    	GOTO	NUEVE
0147    005A    2861    	GOTO	UNO
0148    005B            IMPAR4 ;3,7
0149    005B            	;tercer bit de entrada de C
0150    005B    1943    	BTFSC	varE,2
0151    005C    2873    	GOTO	SIETE
0152    005D    2867    	GOTO	TRES	
0153    005E            CERO
0154    005E    303F    	MOVLW	B'00111111'
0155    005F    0086    	MOVWF	PORTB
0156    0060    2824    	GOTO	MENU
0157    0061            UNO
0158    0061    3006    	MOVLW	B'00000110'
0159    0062    0086    	MOVWF	PORTB
0160    0063    2824    	GOTO	MENU
0161    0064            DOS
0162    0064    305B    	MOVLW	B'01011011'
0163    0065    0086    	MOVWF	PORTB
0164    0066    2824    	GOTO	MENU
0165    0067            TRES
0166    0067    304F    	MOVLW	B'01001111'
0167    0068    0086    	MOVWF	PORTB
0168    0069    2824    	GOTO	MENU
0169    006A            
0170    006A            CUATRO
0171    006A    3066    	MOVLW	B'01100110'
0172    006B    0086    	MOVWF	PORTB
0173    006C    2824    	GOTO	MENU
0174    006D            CINCO
0175    006D    306D    	MOVLW	B'01101101'
0176    006E    0086    	MOVWF	PORTB
0177    006F    2824    	GOTO	MENU
0178    0070            SEIS
0179    0070    307D    	MOVLW	B'01111101'
0180    0071    0086    	MOVWF	PORTB
0181    0072    2824    	GOTO	MENU
0182    0073            SIETE
0183    0073    3007    	MOVLW	B'00000111'
0184    0074    0086    	MOVWF	PORTB
0185    0075    2824    	GOTO	MENU
0186    0076            
0187    0076            OCHO	
0188    0076    307F    	MOVLW	B'01111111'
0189    0077    0086    	MOVWF	PORTB
0190    0078    2824    	GOTO	MENU
0191    0079            NUEVE
0192    0079    3067    	MOVLW	B'01100111'
0193    007A    0086    	MOVWF	PORTB
0194    007B    2824    	GOTO	MENU
---------------------------------------------
Number of errors = 0
